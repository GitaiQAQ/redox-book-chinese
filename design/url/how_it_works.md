工作原理
================================

表现
--------------

由于不可能从用户空间去 Ring 0 的类型的方式，我们必须使用一些弱类型的表示（也就是我们不能使用枚举，除非我们想要做的蜕变和朋友）。因此，我们用 string-like 表示移动到内核空间的时候。这基本上是一个原始指针到一个 C-like，空字符串结束。为了避免进一步的开销，我们使用更有效的陈述：

# `Url<'a>`

三个代表的是最简单的一种。它由一个包含两个富指针，分别代表 scheme 和参考的`struct`。

# `OwnedUrl`

这是一种含有两个`String`s（即，可增长，堆分配UTF-8字符串），即 scheme 和基准分别`struct`。

# `CowUrl<'a>`

这是一个写入时复制（COW）的网址，其中，一旦发生变化，被克隆到堆。这样，你得到的 URL 的有效率的分配。

这里没有太多的花哨。

Opening a URL
-------------

打开URL通过 `OPEN` 系统调用发生。 `OPEN` 采用类似C语言的，空的结束串和两个指针大小的整数，保持开放的标志和文件模式，分别为。

`OPEN`的路径参数不必是 URL。出于兼容性考虑，它会默认为 `file:` scheme如果另有规定外，计划将通过注册商（见[The root scheme]）来解决，然后再打开。

> TODO

[The root scheme]: design/scheme/the_root_scheme.html
